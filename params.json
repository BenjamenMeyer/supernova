{"name":"supernova","tagline":"Use novaclient with multiple OpenStack nova environments the easy way","body":"## supernova - use novaclient with multiple nova environments the easy way\r\n\r\nYou may like *supernova* if you regularly have the following problems:\r\n\r\n* You hate trying to source multiple novarc files when using *nova*\r\n* You get your terminals confused and do the wrong things in the wrong nova environment\r\n* You don't like remembering things\r\n* You want to keep sensitive API keys and passwords out of plain text configuration files (see the \"Working with keyrings\" section toward the end)\r\n* You need to share common skeleton environment variables for *nova* with your teams\r\n\r\nIf any of these complaints ring true, *supernova* is for you. *supernova* manages multiple nova environments without sourcing novarc's or mucking with environment variables.\r\n\r\n### Installation\r\n\r\n    git clone git://github.com/major/supernova.git\r\n    cd supernova\r\n    python setup.py install\r\n\r\n### Configuration\r\n\r\nFor *supernova* to work properly, each environment must be defined in `~/.supernova` (in your user's home directory).  The data in the file is exactly the same as the environment variables which you would normally use when running *nova*.  You can copy/paste from your novarc files directly into configuration sections within `~/.supernova`.\r\n\r\nHere's an example of how to use supernova with [Rackspace Cloud Servers](http://www.rackspace.com/cloud/servers/) in different datacenters:\r\n\r\n    [iad]\r\n\tOS_AUTH_URL=https://identity.api.rackspacecloud.com/v2.0/\r\n\tNOVA_RAX_AUTH=1\r\n\tOS_AUTH_SYSTEM=rackspace\r\n\tOS_REGION_NAME=IAD\r\n\tOS_TENANT_NAME=your_rackspace_cloud_username\r\n\tOS_USERNAME=your_rackspace_cloud_username\r\n\tOS_PASSWORD=your_rackspace_api_key\r\n\tOS_PROJECT_ID=your_rackspace_cloud_account_number\r\n\r\n    [ord]\r\n\tOS_AUTH_URL=https://identity.api.rackspacecloud.com/v2.0/\r\n\tNOVA_RAX_AUTH=1\r\n\tOS_AUTH_SYSTEM=rackspace\r\n\tOS_REGION_NAME=ORD\r\n\tOS_TENANT_NAME=your_rackspace_cloud_username\r\n\tOS_USERNAME=your_rackspace_cloud_username\r\n\tOS_PASSWORD=your_rackspace_api_key\r\n\tOS_PROJECT_ID=your_rackspace_cloud_account_number\r\n\r\n\r\nWhen you use *supernova*, you'll refer to these environments as **iad** and **ord**.  Every environment is specified by its configuration header name.  See the *Usage* section below for some examples.\r\n\r\n**Don't know your Rackspace Cloud account number?** Just log into the [control panel](https://mycloud.rackspace.com/) and look for the number next to your username.  You should see it in the top dark grey bar all the way on the right side.\r\n\r\n### Usage\r\n\r\n    supernova [--debug] [--list] [environment] [novaclient arguments...]\r\n\r\n    Options:\r\n    -h, --help   show this help message and exit\r\n    -d, --debug  show novaclient debug output (overrides NOVACLIENT_DEBUG)\r\n    -l, --list   list all configured environments\r\n\r\n##### Passing commands to *nova*\r\n\r\nFor example, if you wanted to list all instances within the **iad** environment:\r\n\r\n    supernova iad list\r\n\r\nShow a particular instance's data in the **ord** environment:\r\n\r\n    supernova ord show 3edb6dac-5a75-486a-be1b-3b15fd5b4ab0a\r\n\r\nThe first argument is generally the environment argument and it is expected to be a single word without spaces. Any text after the environment argument is passed directly to *nova*.\r\n\r\n##### Debug override\r\n\r\nYou may optionally pass `--debug` as the first argument (before the environment argument) to see additional debug information about the requests being made to the API:\r\n\r\n    supernova --debug iad list\r\n\r\nAs before, any text after the environment argument is passed directly to *nova*.\r\n\r\n##### Listing your configured environments\r\n\r\nYou can list all of your configured environments by using the `--list` argument.\r\n\r\n### Working with keyrings\r\nDue to security policies at certain companies or due to general paranoia, some users may not want API keys or passwords stored in a plaintext *supernova* configuration file.  Luckily, support is now available (via the [keyring](http://pypi.python.org/pypi/keyring) module) for storing any configuration value within your operating system's keychain.  This has been tested on the following platforms:\r\n\r\n* Mac: Keychain Access.app\r\n* Linux: gnome-keyring, kwallet (keyring will determine the backend to use based on the system type and configuration. Make sure if you're using linux without Gnome/KDE that you have pycrypto and simplejson/json installed so CryptedFileKeyring is supported or you end up with UncryptedFileKeyring and your keyring won't be encrypted)\r\n\r\nTo get started, you'll need to choose an environment and a configuration option.  Here's an example of some data you might not want to keep in plain text:\r\n\r\n    supernova-keyring --set iad OS_PASSWORD\r\n\r\n**TIP**: If you need to use the same data for multiple environments, you can use a global credential item very easily:\r\n\r\n    supernova-keyring --set global MyCompanySSO\r\n\r\nOnce it's stored, you can test a retrieval:\r\n\r\n    # Normal, per-environment storage\r\n    supernova-keyring --get production OS_PASSWORD\r\n\r\n    # Global storage\r\n    supernova-keyring --get global MyCompanySSO\r\n\r\nYou'll need to confirm that you want the data from your keychain displayed in plain text (to hopefully thwart shoulder surfers).\r\n\r\nOnce you've stored your sensitive data, simply adjust your *supernova* configuration file:\r\n\r\n    #OS_PASSWORD = really_sensitive_api_key_here\r\n    \r\n    # If using storage per environment\r\n    OS_PASSWORD = USE_KEYRING\r\n    \r\n    # If using global storage\r\n    OS_PASSWORD = USE_KEYRING['MyCompanySSO']\r\n\r\nWhen *supernova* reads your configuration file and spots a value of `USE_KEYRING`, it will look for credentials stored under `OS_PASSWORD` for that environment automatically.  If your keyring doesn't have a corresponding credential, you'll get an exception.\r\n\r\n#### A brief note about environment variables\r\n\r\n*supernova* will only replace and/or append environment variables to the already present variables for the duration of the *nova* execution. If you have `OS_USERNAME` set outside the script, it won't be used in the script since the script will pull data from `~/.supernova` and use it to run *nova*. In addition, any variables which are set prior to running *supernova* will be left unaltered when the script exits.\r\n","google":"UA-1115744-15","note":"Don't delete this file! It's used internally to help with page regeneration."}